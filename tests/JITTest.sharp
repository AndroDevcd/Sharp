mod app;

/**
 * Created by BraxtonN on 8/13/2018.
 *
 * Testing suite for Sharp.
 *
 * This file contains all the testing of the Sharp JIT
 */
def main() {
//    for(var i = 09; i < 100000000; i++) {
//    }
    asm(
        "nop"
        "int 0x9f" // this call does nothing so its safe
//        "hlt "
//        "movi #1,%ebx"
//        "newarray %ebx"
//        "movi $nxt,%adx"
//        "brh"
//        "nop"
//        ".nxt:"
//        "movi #1000000,%ebx"
//        "mov8 %ebx,%ebx"
//        "movi #1000000,%ebx"
//        "mov16 %ebx,%ebx"
//        "movi #100000000000,%ebx"
////        "nop nop nop nop nop"
//        "mov16 %ebx,%ebx"
////        "put %ebx"
//        "movi #100000000000,%ebx"
//        "mov32 %ebx,%ebx"
////        "put %ebx"
//        "movi #10000000,%ebx"
//        "movu8 %ebx,%ebx"
////        "put %ebx"
//        "movi #10000000,%ebx"
//        "movu16 %ebx,%ebx"
////        "put %ebx"
//        "movi #10_000_000_000,%ebx"
//        "movu32 %ebx,%ebx"
//        "put %ebx"
        "rstore %ebx"
        "movi 2,%ebx"
        "movi 2,%ecx"
//        "add %ebx,%ecx, %egx"
//        "put %egx"
//        "sub %ebx,%ecx, %egx"
//        "put %egx"
//        "mul %ebx,%ecx, %egx"
//        "put %egx"
//        "div %ebx,%ecx, %egx"
//        "put %egx"
//        "mod %ebx,%ecx, %egx"
//        "put %egx"
//        "iadd %ecx,#2"
//        "isub %ecx,#2"
//        "imul %ecx,#2"
//        "isub %ecx,#2"
//        "imod %ecx,#2"
        "pop"
//        "inc %ecx"
//        "inc %ecx"
//        "nop nop nop nop nop nop "
//        "dec %ecx"
        "dec %ecx"
        "movr %ebx,%ecx"
        "put %ebx"
        "ret"
    );
}
