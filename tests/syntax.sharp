mod app;

import std.io;
import std.io.task;

/**
*
*/

def send(str: string)
{
    send(str.get_data());
}

times := 0;
def main(args: string[]) : var {
    jb := task.builder()
        .recurring(7, milliseconds) = { args: object[] ->
            jb := args[0] as job;
            for(i := 0; i < 100000; i++) {}
            println("1");
        };

        task.builder()
                .recurring(10, milliseconds) = { args: object[] ->
                    jb := args[0] as job;
                    for(i := 0; i < 1000000; i++) {}
                    println("2");
                };
        task.builder()
                .recurring(10, milliseconds) = { args: object[] ->
                    jb := args[0] as job;
                    for(i := 0; i < 100000; i++) {}
                    println("3");
                };
        task.builder()
                .recurring(10, milliseconds) = { args: object[] ->
                    jb := args[0] as job;
                    for(i := 0; i < 1000000; i++) {}
                    println("4");
                };
        task.builder()
                .long_term()
                .recurring(10, milliseconds) = { args: object[] ->
                    jb := args[0] as job;
                    for(i := 0; i < 1000000; i++) {}
                    println("5");
                };



        thread.sleep(30000);
    return 4;
}
