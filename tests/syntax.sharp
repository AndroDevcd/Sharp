mod app;

import std.io;
import std.io.task;

/**
*
*/

def send(str: string)
{
    send(str.get_data());
}

times := 0;
def main(args: string[]) : var {
    jb := task.builder()
        .recurring(3, seconds) = { args: object[] ->
            jb := args[0] as job;
            for(i := 0; i < 100000; i++) {}
        };

        task.builder()
                .recurring(250, milliseconds) = { args: object[] ->
                    jb := args[0] as job;
                    for(i := 0; i < 1000; i++) {}
                };
        task.builder()
                .recurring(550, milliseconds) = { args: object[] ->
                    jb := args[0] as job;
                    for(i := 0; i < 100000; i++) {}
                };
        task.builder()
                .recurring(9050, milliseconds) = { args: object[] ->
                    jb := args[0] as job;
                    for(i := 0; i < 100000; i++) {}
                };
        task.builder()
                .long_term()
                .recurring(1000, milliseconds) = { args: object[] ->
                    jb := args[0] as job;
                    for(i := 0; i < 10000; i++) {}
                };



        thread.sleep(30000);
    return 4;
}
