mod main;

import ( std.*, platform );

def main() {

   // launch a task that you can get the answer at a later time
   answer := deferred_task<int>.for_result({ obs ->
           obs.post(foo());
       }
   );

   println("you're answer is ${answer.await()}"); // block main thread until answer is posted
}

def foo(): int {
    delay(1000);
    return 0;
}

